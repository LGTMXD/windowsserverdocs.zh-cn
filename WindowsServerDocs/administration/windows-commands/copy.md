---
title: 复制
description: 用于复制的 Windows 命令主题，它将一个或多个文件从一个位置复制到另一个位置。
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: 9624d4a1-349a-4693-ad00-1d1d4e59e9ac
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 3f1ba088f62dec574a23406683bf5ae3d13c1e86
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/08/2020
ms.locfileid: "80847140"
---
# <a name="copy"></a>复制

将一个或多个文件从一个位置复制到另一个位置。

有关如何使用此命令的示例，请参阅[示例](#BKMK_examples)。

## <a name="syntax"></a>语法

```
copy [/d] [/v] [/n] [/y | /-y] [/z] [/a | /b] <Source> [/a | /b] [+<Source> [/a | /b] [+ ...]] [<Destination> [/a | /b]]
```

### <a name="parameters"></a>参数

|参数|说明|
|---------|-----------|
|/d|允许复制的加密文件作为解密文件保存在目标位置。|
|/v|验证是否已正确写入新文件。|
|/n|当复制名称长度超过8个字符或文件扩展名长度超过三个字符的文件时，使用短文件名（如果可用）。|
|/y|禁止提示您确认是否要覆盖现有目标文件。|
|/-y|提示您确认是否要覆盖现有的目标文件。|
|/z|在可重启模式下复制网络文件。|
|/a|指示 ASCII 文本文件。|
|/b|指示二进制文件。|
|\<源 >|必需。 指定要从中复制文件或文件集的位置。 *源*可以包含驱动器号和冒号、目录名称、文件名或它们的组合。|
|\<目标 >|必需。 指定您要将一个或一组文件复制到的位置。 *目标*可以包含驱动器号和冒号、目录名称、文件名或它们的组合。|
|/?|在命令提示符下显示帮助。|

## <a name="remarks"></a>备注

-   可以复制使用文件尾字符（CTRL + Z）的 ASCII 文本文件，以指示该文件的结尾。
-   使用 **/a**

    当 **/a**在命令行上或在文件列表之后时，它将应用于所有列出的文件，直到**复制**遇到 **/b**为止。 在这种情况下， **/b**适用于位于 **/b**之前的文件。

    **/A**的影响取决于它在命令行字符串中的位置。 当 **/a**跟在*Source*之后时， **COPY**会将文件视为 ASCII 文件，并复制第一个文件尾字符（CTRL + Z）之前的数据。

    当 **/a**跟在*Destination*之后时， **copy**会将文件尾字符（CTRL + Z）添加为文件的最后一个字符。
-   使用 **/b**

    **/b**指示命令解释器读取目录中的文件大小指定的字节数。 **/b**是**复制**的默认值，除非**复制**合并了文件。

    如果**命令**行上的文件列表位于文件列表前面或后面，则该命令将应用于所有列出的文件，直到**复制**遇到 **/a**。 在这种情况下， **/a**适用于 **/a**之前的文件。

    **/B**的影响取决于它在命令行字符串中的位置。 如果**跟随** *Source*，则**复制**将复制整个文件，包括任何文件尾字符（CTRL + Z）。

    当 **/b** Destination 跟随*Destination*时， **copy**不会添加文件尾字符（CTRL + Z）。
-   使用 **/v**

    如果无法验证写入操作，则会显示错误消息。 尽管**复制**时很少出现记录错误，但你可以使用 **/v**来验证是否已正确记录关键数据。 **/V**命令行选项还会减慢**复制**命令，因为必须检查磁盘上记录的每个扇区。
-   使用 **/y**和 **/-y**

    如果在 COPYCMD 环境变量中预设了 **/y** ，可以通过在命令行中使用 **/-y**来重写此设置。 默认情况下，当您替换此设置时，将提示您替换此设置，除非在批处理脚本中执行了**copy**命令。
-   追加文件

    若要附加文件，请为*目标*指定单个文件，但为*源*指定多个文件（使用通配符或*File1*+*File2*+*File3*格式）。
-   使用 **/z**

    如果在复制阶段中连接丢失（例如，如果服务器脱机中断连接），则在重新建立连接后，**复制/z**恢复。 **/z**还显示为每个文件完成的复制操作的百分比。
-   复制到设备和从设备复制

    可以将设备名称替换为*源*或*目标*的一个或多个匹配项。
-   复制到设备时使用或忽略 **/b**

    当*Destination*为设备（例如，Com1 或 Lpt1）时， **/b**将数据以二进制模式复制到设备。 在二进制模式下，**复制/b**将所有字符（包括如 CTRL + C、Ctrl + S、Ctrl + Z 和 ENTER 之类的特殊字符）复制到设备上。 但是，如果省略 **/b**，则会将数据复制到 ASCII 模式下的设备中。 在 ASCII 模式下，特殊字符可能会导致文件在复制过程中合并。
-   使用默认目标文件

    如果不指定目标文件，则将使用与原始文件相同的名称、修改日期和修改时间创建副本。 新副本将存储在当前驱动器上的当前目录中。 如果源文件在当前驱动器上并且当前目录中没有为目标文件指定其他驱动器或目录，则**复制**命令将停止并显示以下错误消息：

    `File cannot be copied onto itself`

    `0 File(s) copied`
-   合并文件

    如果在 "*源*" 中指定多个文件，则**复制**会使用 "*目标*" 中指定的文件名将所有文件合并到一个文件中。 **Copy**假设合并文件是 ASCII 文件，除非使用 **/b**选项。
-   复制长度为零的文件

    **Copy**不会复制长度为0字节的文件。 使用**xcopy**复制这些文件。
-   更改文件的时间和日期

    如果要将当前时间和日期分配到文件而不修改文件，请使用以下语法：  
    ```
    copy /b <Source> +,,
    ```  
    逗号指示省略了*Destination*参数。
-   在子目录中复制文件

    若要复制目录的所有文件和子目录，请使用**xcopy**命令。
-   可从恢复控制台获取带有不同参数的**复制**命令。

## <a name="examples"></a><a name=BKMK_examples></a>示例

若要将名为 Memo 的文件复制到当前驱动器中的 Letter，并确保文件尾字符（CTRL + Z）位于复制文件的末尾，请键入：
```
copy memo.doc letter.doc /a
```
若要将名为 typ 的文件从当前驱动器和目录复制到位于驱动器 C 上名为鸟瞰的现有目录，请键入：
```
copy robin.typ c:\birds
```
如果鸟瞰目录不存在，则将文件机制复制到名为鸟瞰的文件中，该文件位于驱动器 C 中磁盘的根目录中。

若要合并位于当前目录中的 Mar89、rpt、Apr89 和 May89，并将其放在名为 Report 的文件中（也在当前目录中），请键入：
```
copy mar89.rpt + apr89.rpt + may89.rpt Report
```
合并文件时，请**将**目标文件标记为当前日期和时间。 如果省略 "*目标*"，则会将文件合并并存储在列表中第一个文件的名称下。 例如，若要合并报表中已存在名为 "报表" 的所有文件，请键入：
```
copy report + mar89.rpt + apr89.rpt + may89.rpt
```
若要将具有 .txt 文件扩展名的当前目录中的所有文件合并到名为 .doc 的单个文件中，请键入：
```
copy *.txt Combined.doc 
```
如果要使用通配符将多个二进制文件合并到一个文件中，请包含 **/b**。 这会阻止 Windows 将 CTRL + Z 视为文件尾字符。 例如，键入：
```
copy /b *.exe Combined.exe
```

> [!CAUTION]
> 如果将二进制文件组合在一起，则生成的文件可能无法使用，因为内部格式设置。

在下面的示例中，**复制将**具有 .txt 扩展名的每个文件与相应的 ref 文件合并在一起。 结果是具有相同文件名但扩展名为 .doc 的文件。 **Copy 将**File1 与 file1 组合在一起，**并将 File2 与 File2 组合在**一起，并将其与 File2 等组合在一起。 例如，键入：
```
copy *.txt + *.ref *.doc
```
若要将所有文件与 .txt 扩展名组合在一起，然后将带. 扩展名的所有文件合并成一个名为 .doc 的文件，请键入：
```
copy *.txt + *.ref Combined.doc
```

## <a name="additional-references"></a>其他参考

- [命令行语法项](command-line-syntax-key.md)