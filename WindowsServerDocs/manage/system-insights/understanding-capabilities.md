---
title: 了解功能
description: 本主题定义了 System Insights 中的功能概念，并介绍了 Windows Server 2019 中提供的默认功能。
ms.prod: windows-server
ms.technology: system-insights
ms.topic: article
author: gawatu
ms.author: gawatu
manager: mallikarjun.chadalapaka
ms.date: 6/05/2018
ms.openlocfilehash: 9b0f043aab5773773785afc7fb48ba0295a76865
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/08/2020
ms.locfileid: "80858740"
---
# <a name="understanding-capabilities"></a>了解功能

>适用于：Windows Server 2019

本主题定义了 System Insights 中的功能概念，并介绍了 Windows Server 2019 中提供的默认功能。 

本主题还介绍了用于默认功能的数据源、预测时间线和预测状态。 

## <a name="capability-overview"></a>功能概述
系统见解功能是一种机器学习或统计模型，可对系统数据进行分析，以帮助您更深入地了解部署的功能。 系统见解引入了一组初始默认功能，它允许您动态添加新功能，而无需更新操作系统。 

>[!NOTE]
>本文提供了说明如何创建、添加和更新功能的详细文档[，](adding-and-developing-capabilities.md)[管理功能文档](managing-capabilities.md)提供了有关此功能的更多高级信息。

此外，每项功能在 Windows Server 实例上以本地方式运行，并且每个功能都可以单独管理。

### <a name="capability-outputs"></a>功能输出
调用功能时，它将提供一个输出，以帮助解释其分析或预测的结果。 每个输出都必须包含一个**状态**说明和一个**状态说明**来描述预测，并且每个结果都可以有选择性地包含与预测关联的特定于功能的数据。 **状态说明**可帮助提供**状态**的上下文说明，并报告 **"确定"、"** **警告**" 或 "**严重**" 状态。 此外，如果未进行预测，则功能可以使用**错误**或**无**状态。 下面是功能状态及其基本含义： 

- **确定**-一切看起来都不错。
- **警告**-无需立即关注，但应查看。 
- **严重**-应立即进行查看。 
- **错误**-未知问题导致功能失败。 
- **无**-未进行预测。 这可能是由于缺少数据或任何其他特定于功能的原因而不进行预测。 

此外，结果中包含的任何特定于功能的数据都将放置在用户可访问的 JSON 文件中，并且[可以使用 PowerShell 找到](https://docs.microsoft.com/windows-server/manage/system-insights/managing-capabilities#retrieving-capability-results)文件路径。 

## <a name="default-capabilities"></a>默认功能
在 Windows Server 2019 中，System Insights 引入了四个侧重于容量预测的默认功能：

- **Cpu 容量预测**-预测 cpu 使用率。 
- **网络容量预测**-预测每个网络适配器的网络使用情况。 
- **总存储消耗预测**-预测所有本地驱动器上的总存储使用量。 
- **卷消耗预测**-预测每个卷的存储消耗量。

每项功能将分析过去的历史数据以预测未来的使用情况，并且**所有预测功能都设计为预测长期趋势而不是短期行为**，从而帮助管理员正确预配硬件并调整其工作负荷，以避免将来发生资源争用。 由于这些功能侧重于长期使用，因此这些功能分析日常数据。 

### <a name="forecasting-model"></a>预测模型
默认功能使用预测模型来预测将来的使用情况，对于每个预测，该模型将在本地对计算机数据进行训练。 此模型旨在帮助检测更长的术语趋势，并在每个 Windows Server 实例上重新训练，使您能够适应每台计算机使用情况的特定行为和细微差别。

>[!NOTE]
>确定要使用的模型类型需要使用包含数十台计算机的数据集来测试多个模型。 在分析和调整这些模型后，我们决定使用自动回归预测模型，因为它会产生非常准确且直观直观的预测，而不需要太多的时间进行训练。 但是，此模型需要三周的定型数据，因此，每项功能都使用基本的线性趋势，直到有三个周的数据可用。

### <a name="forecasting-timelines"></a>预测时间线
默认功能根据收集的数据的天数预测将来特定天数内的时间。 下表显示了这些功能的预测时间线：

| 输入数据大小 | 预测长度 |
| --------------- | --------------- |
| 0-5 天 | 不进行任何预测。 |
| 6-180 天 | 1/3 * 输入数据的大小 |
| 180-365 天 | 60天 | 

### <a name="forecasting-data"></a>预测数据
每个功能分析每日数据以预测未来使用情况。 但 CPU、网络和存储使用量甚至可以在一天中频繁更改，从而动态调整计算机上的工作负载。 由于在一整天内使用不稳定，因此，在单个数据点中正确地表示每日使用非常重要。 下表详细列出了特定数据点和数据的处理方式：


| 功能名称 | 数据源 | 筛选逻辑 |
| --------------- | -------------- | ---------------- |
 卷消耗预测          | 卷大小                    | 每日最大使用量              
 总存储消耗预测   | 卷大小和磁盘大小之和              | 每日最大使用量             
 CPU 容量预测                | % Processor Time  | 每日最大2小时平均   
 网络容量预测         | 字节总数/秒         | 每日最大2小时平均  

在评估上述筛选逻辑时，务必要注意的是，每个功能在未来使用会有意义地超过可用容量时设法通知管理员–即使 CPU 暂时达到了100% 的利用率，CPU 使用率也可能不会导致性能下降或资源争用。 对于 CPU 和网络，应该存在持续的高利用率，而不是瞬时高峰。 但是，在整个日子内平均 CPU 和网络使用情况会丢失重要的使用情况信息，因为在几个小时的 CPU 或网络使用情况下，可能会对关键工作负荷的性能产生影响。 每一天最多2小时的平均平均值将避免这些极端，并为每个要分析的功能生成有意义的数据。

不过，对于卷和总存储使用量，存储使用量不能超过可用容量（即使是这样），因此，每日使用的最大值可用于这些功能。 

### <a name="forecasting-statuses"></a>预测状态
所有系统见解功能都必须输出与每个预测关联的状态。 每个默认功能使用以下逻辑定义每个预测状态：
- **确定**：预测不会超过可用容量。
- **警告**：预测超出了未来30天的可用容量。 
- **严重**：预测超出未来7天的可用容量。 
- **错误**：该功能遇到意外错误。 
- **None**：没有足够的数据来进行预测。 这可能是由于缺少数据或者最近未报告任何数据。

>[!NOTE]
>如果功能在多个实例上进行预测（例如多个卷或网络适配器），则状态将反映所有实例中的最严重状态。 每个卷或网络适配器的各个状态在 Windows 管理中心或每个功能的输出中所包含的数据中可见。 有关如何分析默认功能的 JSON 输出的说明，请访问[此博客](https://aka.ms/systeminsights-mitigationscripts)。 


## <a name="see-also"></a>另请参阅
若要了解有关系统见解的详细信息，请使用以下资源：

- [系统见解概述](overview.md)
- [管理功能](managing-capabilities.md)
- [添加和开发功能](adding-and-developing-capabilities.md)
- [系统见解常见问题解答](faq.md)
